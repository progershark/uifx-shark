!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.UIFX=e():t.UIFX=e()}(this,(()=>(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function n(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}const i=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containers=document.querySelectorAll(e),this.init()},(n=[{key:"init",value:function(){var t=this;this.containers.forEach((function(e){var n=t.getContainerAttributes(e),i=n.threshold,r=n.delay,a=n.affect,o=n.speed,s=n.repeat,c=n.clickTrigger,l=n.route,u=n.cut,f=n.translate;u&&t.wrapContent(e),t.setInitialState(e,a,l,u,f),c?t.setupClickTrigger(e,o,l,r,a,c,u,f):t.observeElement(e,i,r,a,o,s,l,u,f)}))}},{key:"getContainerAttributes",value:function(t){return{threshold:this.getThreshold(t),delay:this.getDelay(t),affect:this.getAffect(t),speed:this.getSpeed(t),repeat:"true"===t.getAttribute("uifx-repeat"),clickTrigger:t.getAttribute("uifx-click"),route:t.classList.contains("uifx-up")?"up":t.classList.contains("uifx-down")?"down":t.classList.contains("uifx-right")?"right":t.classList.contains("uifx-left")?"left":null,cut:"true"===t.getAttribute("uifx-cut"),translate:this.getTranslate(t)}}},{key:"wrapContent",value:function(t){var e=t.innerHTML;t.innerHTML="<div>".concat(e,"</div>"),t.style.overflow="hidden"}},{key:"setInitialState",value:function(t,e,n,i,r){if(i){var a=t.querySelector("div");this.applyInitialState(a,e,n,r)}else this.applyInitialState(t,e,n,r)}},{key:"applyInitialState",value:function(t,e,n,i){if(e.startsWith("blur-")){var r=e.split("-")[1];t.style.filter="blur(".concat(r,"px)")}if(n)switch(n){case"up":t.style.transform="translateY(".concat(i.up,")");break;case"down":t.style.transform="translateY(".concat(i.down,")");break;case"right":t.style.transform="translateX(".concat(i.right,")");break;case"left":t.style.transform="translateX(".concat(i.left,")")}"opacity"===e&&(t.style.opacity="0")}},{key:"observeElement",value:function(t,e,n,i,r,a,o,s,c){var l=this,u=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(l.animateElement(t,n,i,r,o,s,c),a||u.unobserve(e.target)):a&&l.resetAnimation(t,i,o,s,c)}))}),{threshold:e});u.observe(t)}},{key:"setupClickTrigger",value:function(t,e,n,i,r,a,o,s){var c=this;document.querySelectorAll('[uifx-trigger-open="'.concat(a,'"]')).forEach((function(a){a.addEventListener("click",(function(){c.animateElement(t,i,r,e,n,o,s)}))})),document.querySelectorAll('[uifx-trigger-close="'.concat(a,'"]')).forEach((function(e){e.addEventListener("click",(function(){c.resetAnimation(t,r,n,o,s)}))})),document.querySelectorAll('[uifx-trigger="'.concat(a,'"]')).forEach((function(a){a.addEventListener("click",(function(){c.resetAnimation(t,r,n,o,s),setTimeout((function(){c.animateElement(t,i,r,e,n,o,s)}),0)}))}))}},{key:"animateElement",value:function(t,e,n,i,r,a,o){var s=this;setTimeout((function(){if(a){var e=t.querySelector("div");s.applyAnimation(e,n,i,r,o)}else s.applyAnimation(t,n,i,r,o);t.classList.add("active")}),e)}},{key:"resetAnimation",value:function(t,e,n,i,r){if(t.classList.remove("active"),i){var a=t.querySelector("div");this.resetStyles(a,e,n,r)}else this.resetStyles(t,e,n,r)}},{key:"applyAnimation",value:function(t,e,n,i,r){if(t.style.transition="transform ".concat(n,"ms ease-in-out, opacity ").concat(1.5*n,"ms ease-in-out, filter ").concat(1.5*n,"ms ease-in-out"),t.style.transform="translate(0, 0)",t.style.opacity="1",t.style.filter="blur(0px)",e.startsWith("blur-")){var a=e.split("-")[1];t.style.filter="blur(".concat(a,"px)"),setTimeout((function(){t.style.filter="blur(0px)"}),0)}if(i)switch(i){case"up":case"down":t.style.transform="translateY(0)";break;case"right":case"left":t.style.transform="translateX(0)"}}},{key:"resetStyles",value:function(t,e,n){if(t.style.transition="",t.style.transform="",t.style.opacity="",t.style.filter="",e.startsWith("blur-")){var i=e.split("-")[1];t.style.filter="blur(".concat(i,"px)")}if(n)switch(n){case"up":t.style.transform="translateY(200%)";break;case"down":t.style.transform="translateY(-200%)";break;case"right":t.style.transform="translateX(200%)";break;case"left":t.style.transform="translateX(-200%)"}"opacity"===e&&(t.style.opacity="0")}},{key:"getThreshold",value:function(t){return parseFloat(t.getAttribute("uifx-threshold"))||.1}},{key:"getDelay",value:function(t){return parseInt(t.getAttribute("uifx-delay"),10)||0}},{key:"getAffect",value:function(t){return t.getAttribute("uifx-affect")||"opacity"}},{key:"getSpeed",value:function(t){return parseInt(t.getAttribute("uifx-speed"),10)||500}},{key:"getTranslate",value:function(t){var e=t.getAttribute("uifx-translate");return e?{up:e,down:"-".concat(e),right:e,left:"-".concat(e)}:{up:"200%",down:"-200%",right:"200%",left:"-200%"}}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}();function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,o(i.key),i)}}function o(t){var e=function(t){if("object"!=r(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==r(e)?e:e+""}const s=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.containers=document.querySelectorAll(e),this.init()},e=[{key:"init",value:function(){var t=this;this.containers.forEach((function(e){var n=t.getContainerAttributes(e),i=n.pause,r=n.speed,a=n.delay,o=n.threshold,s=n.route,c=n.repeat,l=n.clickTrigger,u=n.animationType;n.isIncrement?t.setupIncrement(e,r,a,o,c,l):s?(t.wrapContent(e,s,r,u),l?t.setupClickTrigger(e,r,s,a,l,u):t.observeElement(e,i,r,a,o,s,c,u)):(t.storeInitialText(e),t.observeElement(e,i,r,a,o,null,c,u))}))}},{key:"getContainerAttributes",value:function(t){return{pause:this.getPause(t),speed:this.getSpeed(t),delay:this.getDelay(t),threshold:this.getThreshold(t),route:t.classList.contains("uifx-up")?"up":t.classList.contains("uifx-down")?"down":null,repeat:"true"===t.getAttribute("uifx-repeat"),clickTrigger:t.getAttribute("uifx-click"),animationType:t.classList.contains("uifx-word")?"word":t.classList.contains("uifx-symbol")?"symbol":null,isIncrement:t.classList.contains("uifx_increment")}}},{key:"storeInitialText",value:function(t){t.querySelectorAll("span").forEach((function(t){t.dataset.initialText=t.textContent,t.textContent=""}))}},{key:"observeElement",value:function(t,e,n,i,r,a,o,s){var c=this,l=[];new IntersectionObserver((function(r){r.forEach((function(r){r.isIntersecting?a?(c.animateTextFade(t,n,a,i,s,l),o&&c.resetAnimationFade(t,n)):t.dataset.animationStarted||setTimeout((function(){c.animateText(t,e,n),t.dataset.animationStarted="true"}),i):o&&(c.resetAnimationFade(t,n),l.forEach(clearTimeout),l=[])}))}),{threshold:r}).observe(t)}},{key:"setupClickTrigger",value:function(t,e,n,i,r,a){var o=this,s=[];document.querySelectorAll('[uifx-trigger="'.concat(r,'"]')).forEach((function(r){r.addEventListener("click",(function(){o.handleClickTrigger(t,e,n,i,a,s)}))})),document.querySelectorAll('[uifx-trigger-open="'.concat(r,'"]')).forEach((function(r){r.addEventListener("click",(function(){o.animateTextFade(t,e,n,i,a,s)}))})),document.querySelectorAll('[uifx-trigger-close="'.concat(r,'"]')).forEach((function(n){n.addEventListener("click",(function(){o.resetAnimationFade(t,e,null,null,a),s.forEach(clearTimeout),s=[]}))}))}},{key:"handleClickTrigger",value:function(t,e,n,i,r,a){var o=this;this.resetAnimationFade(t,e),a.forEach(clearTimeout),a.length=0,setTimeout((function(){o.animateTextFade(t,e,n,i,r,a)}),0)}},{key:"resetAnimationFade",value:function(t,e){t.removeAttribute("data-animated"),t.classList.remove("active"),t.style.transitionDuration="",t.style.transform="",t.style.opacity="",t.querySelectorAll("div > span").forEach((function(t){t.style.transitionDuration="",t.style.transform="",t.style.opacity=""})),t.classList.contains("uifx-symbol")?t.querySelectorAll(".symbol-wrapper > span").forEach((function(n){n.style.transitionDuration="".concat(e,"ms"),n.style.transform=t.classList.contains("uifx-up")?"translateY(200%)":"translateY(-100%)",n.style.opacity="0"})):t.querySelectorAll("div > span").forEach((function(e){e.style.transform=t.classList.contains("uifx-up")?"translateY(200%)":"translateY(-100%)",e.style.opacity="0"}))}},{key:"wrapContent",value:function(t,e,n,i){var r=t.innerHTML.trim(),a=[],o=(r=r.replace(/<br[^>]*>/gi,(function(t){return a.push(t),"[[BR".concat(a.length-1,"]]")}))).split(/(\s+|\[\[BR\d+\]\])/);t.innerHTML="",o.forEach((function(e,r){var s=e.match(/\[\[BR(\d+)\]\]/);if(s){var c=document.createElement("div");c.innerHTML=a[parseInt(s[1])],t.appendChild(c.firstChild)}else if(/\S/.test(e)){var l=document.createElement("div");l.classList.add("word-wrapper");var u=document.createElement("div");u.style.display="flex",u.style.width="max-content",u.style.alignItems="flex-start";var f=document.createElement("span");if("symbol"===i?e.split("").forEach((function(t){var e=document.createElement("span");e.classList.add("symbol-wrapper");var i=document.createElement("span");i.textContent=t,i.setAttribute("uifx-speed",n),i.style.transitionDuration="".concat(n,"ms"),i.style.transform="translateY(200%)",i.style.opacity="0",e.appendChild(i),f.appendChild(e)})):(f.textContent=e,f.setAttribute("uifx-speed",n),t.classList.contains("uifx-symbol")||t.classList.contains("uifx-word")||(f.style.transitionDuration="".concat(n,"ms"))),u.appendChild(f),o[r+1]&&/\s+/.test(o[r+1])){var y=document.createElement("span");y.innerHTML="&nbsp;",y.setAttribute("uifx-speed",n),y.style.transitionDuration="".concat(n,"ms");var m=document.createElement("div");m.appendChild(y),u.appendChild(m)}l.appendChild(u),t.appendChild(l)}})),t.removeAttribute("uifx-speed"),t.style.transitionDuration=""}},{key:"animateTextFade",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(!n){var o=setTimeout((function(){t.style.transform="translateY(0)",t.style.opacity="1",t.classList.add("active")}),i);a.push(o)}var s=t.querySelectorAll("div > span");s&&("word"===r?s.forEach((function(t,n){var r=setTimeout((function(){t.style.transform="translateY(0)",t.style.opacity="1"}),i+n*e);a.push(r)})):"symbol"===r?this.animateSymbols(t,e,i,a):s.forEach((function(t){var n=setTimeout((function(){t.style.transitionDuration="".concat(e,"ms"),t.style.transform="translateY(0)",t.style.opacity="1"}),i);a.push(n)})));var c=setTimeout((function(){t.classList.add("active"),t.setAttribute("data-animated","true")}),0);a.push(c)}},{key:"animateSymbols",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];t.querySelectorAll(".symbol-wrapper > span").forEach((function(t,r){var a=setTimeout((function(){t.style.transform="translateY(0)",t.style.opacity="1"}),n+r*e);i.push(a)}))}},{key:"animateText",value:function(t,e,n){var i=this,r=t.querySelectorAll("span"),a=0,o=function(t){var s=t.dataset.initialText;t.textContent="";var c=0,l=function(){c<s.length?(t.textContent=s.slice(0,c+1),c++,setTimeout(l,n)):setTimeout((function(){i.eraseText(t,n,(function(){setTimeout((function(){++a<r.length?o(r[a]):o(r[a=0])}),100)}))}),e)};l()};o(r[a])}},{key:"eraseText",value:function(t,e,n){var i=t.textContent.slice(0,-1);t.textContent=i;var r=i.length,a=function(){r>0?(t.textContent=i.slice(0,r-1),r--,setTimeout(a,e)):(t.textContent="",n&&n())};a()}},{key:"resetAnimation",value:function(t){t.querySelectorAll("span").forEach((function(t){t.textContent=""}))}},{key:"getPause",value:function(t){return parseInt(t.getAttribute("uifx-pause"),10)||500}},{key:"getSpeed",value:function(t){return parseInt(t.getAttribute("uifx-speed"),10)||50}},{key:"getDelay",value:function(t){return parseInt(t.getAttribute("uifx-delay"),10)||0}},{key:"getThreshold",value:function(t){return parseFloat(t.getAttribute("uifx-threshold"))||.1}},{key:"setupIncrement",value:function(t,e,n,i,r,a){var o=parseInt(t.textContent,10);t.textContent=0,a?this.setupIncrementClickTrigger(t,o,e,n,a):this.observeIncrementElement(t,o,e,n,i,r)}},{key:"observeIncrementElement",value:function(t,e,n,i,r,a){var o=this,s=new IntersectionObserver((function(r){r.forEach((function(r){r.isIntersecting?setTimeout((function(){o.animateIncrement(t,e,n),t.classList.add("active"),a||s.unobserve(r.target)}),i):a&&t.classList.remove("active")}))}),{threshold:r});s.observe(t)}},{key:"setupIncrementClickTrigger",value:function(t,e,n,i,r){var a=this;document.querySelectorAll('[uifx-trigger="'.concat(r,'"]')).forEach((function(r){r.addEventListener("click",(function(){t.classList.remove("active"),t.textContent=0,setTimeout((function(){a.animateIncrement(t,e,n),t.classList.add("active")}),i)}))})),document.querySelectorAll('[uifx-trigger-open="'.concat(r,'"]')).forEach((function(r){r.addEventListener("click",(function(){t.classList.contains("active")||(t.textContent=0,setTimeout((function(){a.animateIncrement(t,e,n),t.classList.add("active")}),i))}))})),document.querySelectorAll('[uifx-trigger-close="'.concat(r,'"]')).forEach((function(e){e.addEventListener("click",(function(){t.classList.remove("active"),t.textContent=0}))}))}},{key:"animateIncrement",value:function(t,e,n){var i=0,r=setInterval((function(){i>=e?(clearInterval(r),t.textContent=e):(i+=1,t.textContent=i)}),n)}}],e&&a(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();return new i(".UifxFade"),new s(".UifxText"),{}})()));